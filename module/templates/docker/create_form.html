{% extends request.user.get_template %}
{% block title %} Profile {% endblock %}
{% block content %}
{% load dir %}
{% load staticfiles %}

<link rel="stylesheet" href="{% static 'css/style.css' %}">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/simplemde/latest/simplemde.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/highlight.js/latest/styles/github.min.css">

<style>
  .editor-preview-side {
    min-height: 300px;
  }
  CodeMirror {
    min-height: 400px;
  }
</style>
<!--PEN CONTENT     -->
<div class="content">
  <!--content inner-->
  <div class="content__inner">
    <div class="container-fluid overflow-hidden">
      <!--multisteps-form-->
      <div class="multisteps-form">
        <!--progress bar-->
        <div class="row pt-1">
          <div class="col-12 ml-auto mr-auto mb-4">
            <div class="multisteps-form__progress">
              <button class="multisteps-form__progress-btn js-active" type="button" title="User Info">Data collection</button>
              <button class="multisteps-form__progress-btn" type="button" title="Address">Model details</button>
              <button class="multisteps-form__progress-btn" type="button" title="Order Info">Order Info</button>
              <button class="multisteps-form__progress-btn" type="button" title="Comments">Comments</button>
            </div>
          </div>
        </div>
        <!--form panels-->
        <div class="row mb-5">
          <div class="col-12 m-auto">
            <form class="multisteps-form__form">
              <!--single form panel-->
              <div class="multisteps-form__panel shadow p-4 rounded bg-white js-active" data-animation="scaleIn">
                <h3 class="multisteps-form__title">Definition of the protocol for data collection</h3>
                <div class="multisteps-form__content mt-3">
                  <div class="row">
                    <div class="col-12">
                      <p>
                        In this section you can specify the protocol for data collection. It should be noted that the more specific the better the data to be processed and as a consequence the models will be much more precise.

                        In this text box you can write Markdown code and HTML code together with Bootstrap 4.3.
                      </p>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-12">
                      <textarea id="render"></textarea>
                    </div>
                  </div>
                  <div class="button-row d-flex mt-4">
                    <button class="btn btn-primary ml-auto js-btn-next" type="button" title="Next">Next</button>
                  </div>
                </div>
              </div>
              <!--single form panel-->
              <div class="multisteps-form__panel shadow p-4 rounded bg-white" data-animation="scaleIn">
                <h3 class="multisteps-form__title">Model details</h3>
                <div class="multisteps-form__content">
                  <div class="row">
                    <div class="col-12">
                      <input type="text" hidden name="type" id="hidden_input">
                      <input type="text" hidden name="type" id="hidden_output">
                      <input type="text" hidden name="type" id="hidden_response">
                      <input type="text" hidden name="type" id="hidden_graph">
                      <input type="text" hidden name="type" id="hidden_example">
                      <div class="row justify-content-center">
                          <div class="col-md-6">
                              <div class="form-group">
                                  <label for="name">Name:</label>
                                  <input type="text" class="form-control{% if errors.name %} is-invalid {% endif %}" id="name" name="name" aria-describedby="emailHelp" placeholder="Enter name proyect">
                                  <small class="form-text text-danger">{{errors.name | error}}</small>
                              </div>
                          </div>
                          <div class="col-md-6">
                              <div class="form-group">
                                  <label for="img_name">Image name:</label>
                                  <select class="custom-select {% if errors.img_name %} is-invalid {% endif %}" id="img_name" name="img_name">
                                      {% for i in images %}
                                          <option value="{{i}}">{{i}}</option>
                                      {% endfor %}
                                  </select>
                                  <small class="form-text text-danger">{{errors.img_name | error}}</small>
                              </div>
                          </div>
                      </div>
                      <div class="row justify-content-center">
                          <div class="col-md-6">
                              <div class="form-group">
                                  <label for="languaje">Languaje:</label>
                                  <select class="custom-select {% if errors.languaje %} is-invalid {% endif %}" id="languaje" name="languaje">
                                      <option value="python">Python</option>
                                  </select>
                                  <small class="form-text text-danger">{{errors.languaje | error}}</small>
                              </div>
                          </div>
                          <div class="col-md-6">
                              <div class="form-group">
                                  <label for="proto_path">Proto file:</label>
                                  <div class="custom-file">
                                      <input type="file" class="custom-file-input {% if errors.proto_path %} is-invalid {% endif %}" id="proto_path" name="proto_path" aria-describedby="inputGroupFileAddon01">
                                      <label class="custom-file-label" for="proto_path">Choose proto file</label>
                                  </div>
                                  <small class="form-text text-danger">{{errors.proto_path | error}}</small>
                              </div>
                          </div>
                      </div>
                      <div class="row mb-3">
                          <div class="col-12">
                              <label for="proto_path">Elements:</label>
                              <div class="row">
                                  <div class="col-6">
                                      <div class="custom-control custom-checkbox">
                                          <input type="checkbox" class="custom-control-input" id="check_input" checked disabled>
                                          <label for="check_input" class="custom-control-label">Input</label>
                                      </div>
                                  </div>
                                  <div class="col-6">
                                      <div class="custom-control custom-checkbox">
                                          <input type="checkbox" class="custom-control-input" id="check_output" checked>
                                          <label for="check_output" class="custom-control-label">Output</label>
                                      </div>
                                  </div>
                              </div>
                              <div class="row">
                                  <div class="col-6">
                                      <div class="custom-control custom-checkbox">
                                          <input type="checkbox" class="custom-control-input" id="check_response" checked disabled>
                                          <label for="check_response" class="custom-control-label">Response</label>
                                      </div>
                                  </div>
                                  <div class="col-6">
                                      <div class="custom-control custom-checkbox">
                                          <input type="checkbox" class="custom-control-input" id="check_graph" checked>
                                          <label for="check_graph" class="custom-control-label">Graph</label>
                                      </div>
                                  </div>
                              </div>
                          </div>
                      </div>

                      <div class="glide">
                          <div data-glide-el="track" class="glide__track">
                              <ul class="glide__slides">
                                  <li class="glide__slide" data-index="0" id="slide0">
                                      <div class="card">
                                          <div class="card-body">
                                              <div class="row">
                                                  <div class="col-md-7">
                                                      <div class="row mb-1">
                                                          <div class="col-md-6">
                                                              <div class="" data-toggle="tooltip" data-placement="top" title="Input data">
                                                                  <div data-ride="false" data-interval="false" class="carousel slide" >
                                                                      <div class="carousel-inner input">
                                                                          <div class="carousel-item active" value="img">
                                                                              <img class="d-block w-100" src="{% static 'img/default.jpg' %}" alt="First slide">
                                                                          </div>
                                                                          <div class="carousel-item" value="video">
                                                                              <img class="d-block w-100" src="{% static 'img/video.jpg' %}" alt="Second slide">
                                                                          </div>
                                                                      </div>
                                                                      <a class="carousel-control-prev" onclick="clickCarousel(this)" role="button" data-slide="prev">
                                                                          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                                                          <span class="sr-only">Previous</span>
                                                                      </a>
                                                                      <a class="carousel-control-next" onclick="clickCarousel(this)" role="button" data-slide="next">
                                                                          <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                                                          <span class="sr-only">Next</span>
                                                                      </a>
                                                                  </div>
                                                              </div>
                                                          </div>
                                                          <div class="col-md-6">
                                                              <div class="" data-toggle="tooltip" data-placement="top" title="Output data">
                                                                  <div data-ride="false" data-interval="false" class="carousel slide" >
                                                                      <div class="carousel-inner output">
                                                                          <div class="carousel-item active" value="img">
                                                                              <img class="d-block w-100" src="{% static 'img/default.jpg' %}" alt="First slide">
                                                                          </div>
                                                                          <div class="carousel-item" value="video">
                                                                              <img class="d-block w-100" src="{% static 'img/video.jpg' %}" alt="Second slide">
                                                                          </div>
                                                                      </div>
                                                                      <a class="carousel-control-prev" onclick="clickCarousel(this)" role="button" data-slide="prev">
                                                                          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                                                          <span class="sr-only">Previous</span>
                                                                      </a>
                                                                      <a class="carousel-control-next" onclick="clickCarousel(this)" role="button" data-slide="next">
                                                                          <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                                                          <span class="sr-only">Next</span>
                                                                      </a>
                                                                  </div>
                                                              </div>
                                                          </div>
                                                      </div>
                                                      <div class="row">
                                                          <div class="col-md-12">
                                                              <div class="m-3" data-toggle="tooltip" data-placement="top" title="Response">
                                                                  Lorem ipsum dolor sit amet consectetur adipisicing elit. Excepturi quos quam ab facilis esse numquam alias eos, similique accusantium adipisci veritatis incidunt, sapiente magni quaerat ipsum odit hic dolorum magnam.
                                                              </div>
                                                          </div>
                                                      </div>
                                                  </div>
                                                  <div class="col-md-5">
                                                      <div class="" data-toggle="tooltip" data-placement="top" title="Graph">
                                                          <img class="d-block w-100" src="{% static 'img/pie.png' %}" alt="First slide">
                                                      </div>
                                                  </div>
                                              </div>
                                          </div>
                                      </div>
                                  </li>
                                  <li class="glide__slide" data-index="1" id="slide1">
                                      <div class="card">
                                          <div class="card-body">
                                              <div class="row">
                                                  <div class="col-md-7">
                                                      <div class="row mb-1">
                                                          <div class="col-md-12">
                                                              <div class="" data-toggle="tooltip" data-placement="top" title="Input data">
                                                                  <div data-ride="false" data-interval="false" class="carousel slide" >
                                                                      <div class="carousel-inner input">
                                                                          <div class="carousel-item active" value="img">
                                                                              <img class="d-block w-100" src="{% static 'img/default.jpg' %}" alt="First slide">
                                                                          </div>
                                                                          <div class="carousel-item" value="video">
                                                                              <img class="d-block w-100" src="{% static 'img/video.jpg' %}" alt="Second slide">
                                                                          </div>
                                                                      </div>
                                                                      <a class="carousel-control-prev" onclick="clickCarousel(this)" role="button" data-slide="prev">
                                                                          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                                                          <span class="sr-only">Previous</span>
                                                                      </a>
                                                                      <a class="carousel-control-next" onclick="clickCarousel(this)" role="button" data-slide="next">
                                                                          <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                                                          <span class="sr-only">Next</span>
                                                                      </a>
                                                                  </div>
                                                              </div>
                                                          </div>
                                                      </div>
                                                      <div class="row">
                                                          <div class="col-md-12">
                                                              <div class="m-3" data-toggle="tooltip" data-placement="top" title="Response">
                                                                  Lorem ipsum dolor sit amet consectetur adipisicing elit. Excepturi quos quam ab facilis esse numquam alias eos, similique accusantium adipisci veritatis incidunt, sapiente magni quaerat ipsum odit hic dolorum magnam.
                                                              </div>
                                                          </div>
                                                      </div>
                                                  </div>
                                                  <div class="col-md-5">
                                                      <div class="" data-toggle="tooltip" data-placement="top" title="Graph">
                                                          <img class="d-block w-100" src="{% static 'img/pie.png' %}" alt="First slide">
                                                      </div>
                                                  </div>
                                              </div>
                                          </div>
                                      </div>
                                  </li>
                                  <li class="glide__slide" data-index="2" id="slide2">
                                      <div class="card">
                                          <div class="card-body">
                                              <div class="row">
                                                  <div class="col-md-12">
                                                      <div class="row mb-1">
                                                          <div class="col-md-6">
                                                              <div class="" data-toggle="tooltip" data-placement="top" title="Input data">
                                                                  <div data-ride="false" data-interval="false" class="carousel slide" >
                                                                      <div class="carousel-inner input">
                                                                          <div class="carousel-item active" value="img">
                                                                              <img class="d-block w-100" src="{% static 'img/default.jpg' %}" alt="First slide">
                                                                          </div>
                                                                          <div class="carousel-item" value="video">
                                                                              <img class="d-block w-100" src="{% static 'img/video.jpg' %}" alt="Second slide">
                                                                          </div>
                                                                      </div>
                                                                      <a class="carousel-control-prev" onclick="clickCarousel(this)" role="button" data-slide="prev">
                                                                          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                                                          <span class="sr-only">Previous</span>
                                                                      </a>
                                                                      <a class="carousel-control-next" onclick="clickCarousel(this)" role="button" data-slide="next">
                                                                          <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                                                          <span class="sr-only">Next</span>
                                                                      </a>
                                                                  </div>
                                                              </div>
                                                          </div>
                                                          <div class="col-md-6">
                                                              <div class="" data-toggle="tooltip" data-placement="top" title="Output data">
                                                                  <div data-ride="false" data-interval="false" class="carousel slide" >
                                                                      <div class="carousel-inner output">
                                                                          <div class="carousel-item active" value="img">
                                                                              <img class="d-block w-100" src="{% static 'img/default.jpg' %}" alt="First slide">
                                                                          </div>
                                                                          <div class="carousel-item" value="video">
                                                                              <img class="d-block w-100" src="{% static 'img/video.jpg' %}" alt="Second slide">
                                                                          </div>
                                                                      </div>
                                                                      <a class="carousel-control-prev" onclick="clickCarousel(this)" role="button" data-slide="prev">
                                                                          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                                                          <span class="sr-only">Previous</span>
                                                                      </a>
                                                                      <a class="carousel-control-next" onclick="clickCarousel(this)" role="button" data-slide="next">
                                                                          <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                                                          <span class="sr-only">Next</span>
                                                                      </a>
                                                                  </div>
                                                              </div>
                                                          </div>
                                                      </div>
                                                      <div class="row">
                                                          <div class="col-md-12">
                                                              <div class="m-3" data-toggle="tooltip" data-placement="top" title="Response">
                                                                  Lorem ipsum dolor sit amet consectetur adipisicing elit. Excepturi quos quam ab facilis esse numquam alias eos, similique accusantium adipisci veritatis incidunt, sapiente magni quaerat ipsum odit hic dolorum magnam.
                                                              </div>
                                                          </div>
                                                      </div>
                                                  </div>
                                              </div>
                                          </div>
                                      </div>
                                  </li>
                              </ul>
                          </div>
                      </div>
                    </div>
                  </div>
                  <div class="button-row d-flex mt-4">
                    <button class="btn btn-primary js-btn-prev" type="button" title="Prev">Prev</button>
                    <button class="btn btn-primary ml-auto js-btn-next" type="button" title="Next">Next</button>
                  </div>
                </div>
              </div>
              <!--single form panel-->
              <div class="multisteps-form__panel shadow p-4 rounded bg-white" data-animation="scaleIn">
                <h3 class="multisteps-form__title">Your Order Info</h3>
                <div class="multisteps-form__content">
                  <div class="row">
                    <div class="col-12 col-md-6 mt-4">
                      <div class="card shadow-sm">
                        <div class="card-body">
                          <h5 class="card-title">Item Title</h5>
                          <p class="card-text">Small and nice item description</p><a class="btn btn-primary" href="#" title="Item Link">Item Link</a>
                        </div>
                      </div>
                    </div>
                    <div class="col-12 col-md-6 mt-4">
                      <div class="card shadow-sm">
                        <div class="card-body">
                          <h5 class="card-title">Item Title</h5>
                          <p class="card-text">Small and nice item description</p><a class="btn btn-primary" href="#" title="Item Link">Item Link</a>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="row">
                    <div class="button-row d-flex mt-4 col-12">
                      <button class="btn btn-primary js-btn-prev" type="button" title="Prev">Prev</button>
                      <button class="btn btn-primary ml-auto js-btn-next" type="button" title="Next">Next</button>
                    </div>
                  </div>
                </div>
              </div>
              <!--single form panel-->
              <div class="multisteps-form__panel shadow p-4 rounded bg-white" data-animation="scaleIn">
                <h3 class="multisteps-form__title">Additional Comments</h3>
                <div class="multisteps-form__content">
                  <div class="form-row mt-4">
                    <textarea class="multisteps-form__textarea form-control" placeholder="Additional Comments and Requirements"></textarea>
                  </div>
                  <div class="button-row d-flex mt-4">
                    <button class="btn btn-primary js-btn-prev" type="button" title="Prev">Prev</button>
                    <button class="btn btn-success ml-auto" type="button" title="Send">Send</button>
                  </div>
                </div>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- partial -->
<script src="https://cdn.jsdelivr.net/highlight.js/latest/highlight.min.js"></script>
<script src="https://cdn.jsdelivr.net/simplemde/latest/simplemde.min.js"></script>
<script src="https://unpkg.com/showdown/dist/showdown.min.js"></script>
<script>
    $('.carousel').carousel();

    const config = {
        type: "carousel",
        perView: 1,
        dragThreshold: false,
    }
    let glide = new Glide('.glide', config)

    glide.on('build.after', function() {
        var slideHeight = $('.glide__slide--active').outerHeight();
        var glideTrack = $('.glide__track').outerHeight();
        if (slideHeight != glideTrack) {
            var newHeight = slideHeight;
            $('.glide__track').animate({'height':newHeight}, 300);
        }
    });

    glide.on('run.after', function() {
        var slideHeight = $('.glide__slide--active').outerHeight();
        var glideTrack = $('.glide__track').outerHeight();
        if (slideHeight != glideTrack) {
            var newHeight = slideHeight;
            $('.glide__track').animate({'height':newHeight}, 300);
        }
    })

    glide.mount()

   function clickCarousel(e){
        $(e.parentElement).carousel('next')
    }

    $('.custom-control-input').click(function(){
        graph = $('#check_graph').prop('checked')
        output = $('#check_output').prop('checked')
        console.log(graph, output)
        if (graph && output){
            glide.go('='+0)
        } else if(graph && !output){
            glide.go('='+1)
        } else if(!graph && output){
            glide.go('='+2)
        }  else {
            $(this).prop('checked', true)
        }
    })
</script>

<script  src="{% static 'js/script.js' %}"></script>

{% endblock %}